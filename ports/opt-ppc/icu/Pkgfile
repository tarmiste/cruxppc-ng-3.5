# Description: Widely used set of C/C++ libraries providing Unicode and Globalization support.
# URL: http://www.icu-project.org/
# Maintainer: Danny Rawlins, crux at romster dot me

name=icu
version=64.2
release=1
source=(https://sourceforge.net/projects/icu/files/ICU4C/$version/icu4c-${version//./_}-src.tgz
     icu-64-data-bigendian.patch)

build() {
	cd icu/source
        cat $SRC/icu-64-data-bigendian.patch |patch -Np2

	# icu tries to use clang by default
	[ "$CC" ] || export CC=gcc
	[ "$CXX" ] || export CXX=g++

	./configure \
		--prefix=/usr \
		--mandir=/usr/share/man \
		--disable-samples \
		--disable-tests

	make
	make -j1 DESTDIR=$PKG install
}
